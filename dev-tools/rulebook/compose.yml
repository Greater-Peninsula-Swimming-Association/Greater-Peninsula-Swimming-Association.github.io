services:
  pdf:
    image: pandoc/extra
    platform: linux/amd64
    volumes:
      - .:/workspace
    working_dir: /workspace
    entrypoint: ["/bin/sh", "-c"]
    command: >
      "pandoc rulebook.md
      --template=eisvogel
      --include-in-header=header.tex
      --syntax-highlighting=idiomatic
      --toc
      --toc-depth=4
      --number-sections
      --pdf-engine=xelatex
      -o GPSA_Rulebook.pdf &&
      echo 'PDF built successfully: GPSA_Rulebook.pdf'"